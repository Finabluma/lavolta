<template>
  <NuxtLink exact to="/" class="link-logo">
    <svg
      viewBox="0 0 408.55 144.35"
      role="img"
      itemprop="logo"
      id="boveda"
    >
      <g>
        <path
          class="fill-shape"
          d="m80.33 91.78-.65 13.58a24 24 0 0 0-8.28-10.52 21.94 21.94 0 0 0-13.14-4 24.58 24.58 0 0 0-18.17 7.58 25.55 25.55 0 0 0 0 36.19 24.91 24.91 0 0 0 18.17 7.57A21.52 21.52 0 0 0 71.53 138a24.21 24.21 0 0 0 8.54-10.8l-.39 5.92v7.91h4.88V91.78Zm-6.63 39.9a20.22 20.22 0 0 1-15.16 6.18 20.14 20.14 0 0 1-15.1-6.18 22.31 22.31 0 0 1 0-30.42 20.56 20.56 0 0 1 15.1-6 20.5 20.5 0 0 1 15.16 6 22.33 22.33 0 0 1 0 30.42Z"
        />
        <path
          class="fill-shape"
          d="M13.26 9.64C5.57 9.64 0 22 0 34.27a32.88 32.88 0 0 0 5.7 19.22c1.22 1.69 3.29 2.76 4.67 3.75a5.73 5.73 0 0 1 1.38 3.61l-.12 14.58-2.5 67.46v.05c0 .77 2.35 1.41 5.25 1.41s5.24-.64 5.24-1.41v-.06l-2.76-67.23v-14.8a6.44 6.44 0 0 1 1.38-3.61c1.54-1.17 3.54-2.45 4.76-4.24 3.49-5 4.84-9.24 4.84-18.74C27.86 22 21 9.64 13.26 9.64Z"
        />
        <path
          class="fill-shape"
          d="m111.84 143.37.09-1.26c.08-.86.15-2 .32-3.8.09-.87.16-1.86.29-2.9s.26-2.17.41-3.39c.35-2.44.75-5.25 1.33-8.36a154.29 154.29 0 0 1 17.91-48.56 152.19 152.19 0 0 1 49.52-52c2.78-1.77 5.63-3.48 8.57-5.09s5.93-3.15 9-4.57c1.53-.72 3.1-1.38 4.66-2.06s3.15-1.3 4.76-1.89q4.8-1.86 9.76-3.33A144.12 144.12 0 0 1 259.74 0 146.5 146.5 0 0 1 301 5.74c3.32 1 6.59 2 9.8 3.23s6.38 2.44 9.46 3.84c1.56.68 3.07 1.43 4.6 2.16s3 1.5 4.47 2.3q4.44 2.39 8.63 5a148.11 148.11 0 0 1 29.42 24.12c2.11 2.19 4.07 4.46 6 6.71s3.7 4.57 5.4 6.87a145.4 145.4 0 0 1 9.16 13.88 151.65 151.65 0 0 1 12.23 26.56 154.23 154.23 0 0 1 5.83 21.94c1.16 6.22 1.77 11.19 2.07 14.58.18 1.69.26 3 .33 3.88s.11 1.33.11 1.33l-14.49.06s0-.41.06-1.2.13-2 .14-3.53a115.73 115.73 0 0 0-.41-13.42 126 126 0 0 0-3.48-20.69 130.48 130.48 0 0 0-9.54-25.66 132.77 132.77 0 0 0-18-27.19 133.42 133.42 0 0 0-27.37-24.3c-2.65-1.77-5.37-3.5-8.2-5.09-1.41-.82-2.85-1.56-4.29-2.34s-2.91-1.5-4.4-2.19a129 129 0 0 0-18.59-7.23 136.48 136.48 0 0 0-40.23-5.94 140.48 140.48 0 0 0-20.38 1.64c-3.37.53-6.71 1.15-10 2s-6.55 1.66-9.75 2.7a127.84 127.84 0 0 0-18.5 7.44A132.14 132.14 0 0 0 184.3 27a135.9 135.9 0 0 0-45 51.93 132.78 132.78 0 0 0-9.44 25.72 125.13 125.13 0 0 0-3.42 20.69c-.14 1.44-.19 2.82-.28 4.1s-.08 2.5-.12 3.62 0 2.16 0 3.11v2.54c0 1.45.12 2.78.16 3.6l.06 1.27Z"
        />
        <path
          class="fill-shape"
          d="M139.56 91.78h5.03l21.33 42.6 21.32-42.6h4.89l-26.32 52.06-26.25-52.06z"
        />
        <path class="fill-shape" d="M266.87 44.82h4.88v98.57h-4.88z" />
        <path
          class="fill-shape"
          d="m372.19 93.23-.65 13.58a24.07 24.07 0 0 0-8.28-10.51 21.92 21.92 0 0 0-13.16-4 25.73 25.73 0 0 0-25.66 25.6 25.73 25.73 0 0 0 25.66 25.73 21.48 21.48 0 0 0 13.29-4.18 24.12 24.12 0 0 0 8.53-10.8l-.38 5.92v7.91h4.88V93.23Zm-6.64 39.91a21.62 21.62 0 0 1-30.25 0 22.32 22.32 0 0 1 0-30.43 22 22 0 0 1 30.25 0 22.32 22.32 0 0 1 0 30.43Z"
        />
        <path
          class="fill-shape"
          d="M311.24 88h-10.39l-.14-8.28c.23-.24.39.41.49.11a2.09 2.09 0 0 0 .46-1.31 3 3 0 0 0-.78-2c0-.12-.06-.07-.06-.07.59-4.06 3.26-4.58 3.26-4.58a2.07 2.07 0 0 0 1-1.81c1-21.11-.44-33.63-.44-33.63-3.13-20.48-9.45-22.6-9.45-22.6-4.2-2.15-5.35 0-5.35 0-1.41 1.94-.94 6.26-.94 6.26a156.51 156.51 0 0 1 2.31 19.22c.49 10.47 0 13.47.21 18.43l-.24 14.48a9.7 9.7 0 0 1 2 4.19c0 .1-.1.2-.14.29a3.61 3.61 0 0 0-.8 2.3c0 1.1.48.19 1.2.81L293.1 88h-6.78v11.09H293l-1.57 43.46c.05.74 2.29 1.57 5.06 1.57s5.07-1.59 5.07-2.34l-.61-42.69h10.33Z"
        />
        <path
          class="fill-shape"
          d="M244.76 99.52a25.72 25.72 0 0 0-36.46 36.28 25 25 0 0 0 18 7.57h.22a26.87 26.87 0 0 0 3.39-.19 25.74 25.74 0 0 0 22.38-25.54 24.76 24.76 0 0 0-7.53-18.12Zm-3.62 32.6a19.83 19.83 0 0 1-11.17 5.8 36.61 36.61 0 0 0-.25-5.1c-1.27-9.78.74-9.48 3.3-15.12 2.06-4.52 1.33-16.6.38-16.59-2.21 0-.78 16.59-2.86 16.48-1.5-.09 1-16.47-1.38-16.6-2.11-.11-.46 16.71-2.14 16.66-1.47-.06-.13-16.67-2.25-16.63s-.07 16.68-1.34 16.68c-2.87 0-1.71-16.76-3.35-16.76-2.16 0-1.41 18.18 3.67 23.54 4.09 4.3 2.79 7.81 2.73 13.7A20.52 20.52 0 0 1 206 117.59a20.57 20.57 0 1 1 35.17 14.53Z"
        />
      </g>
    </svg>
    <svg
      viewBox="0 0 58.71 58.71"
      id="favicon"
    >
      <path
        d="M30.8 608.48a29.37 29.37 0 0 1-27-17.93A28.82 28.82 0 0 1 2 585a29.35 29.35 0 0 1 22.84-34.68 29.82 29.82 0 0 1 11.83 0 29.39 29.39 0 0 1 21.13 17.33 28.91 28.91 0 0 1 1.71 5.52 29.46 29.46 0 0 1 0 11.83 28.94 28.94 0 0 1-4.41 10.49 29.34 29.34 0 0 1-24.34 13Zm-.28-56.6c-.91 0-1.83 0-2.71.13a27.28 27.28 0 0 0-5.15 1c-.82.25-1.64.55-2.43.88a25.18 25.18 0 0 0-2.34 1.11c-.76.42-1.51.88-2.24 1.38s-1.45 1.07-2.15 1.62-1.39 1.22-2.06 1.88-1.28 1.35-1.85 2-1.11 1.49-1.59 2.22a25.7 25.7 0 0 0-1.36 2.24 24.92 24.92 0 0 0-2 4.78 25.39 25.39 0 0 0-.64 2.54c-.16.86-.29 1.75-.37 2.65s-.12 1.81-.12 2.74 0 1.87.12 2.77.21 1.81.37 2.67a24.07 24.07 0 0 0 .62 2.57 25.55 25.55 0 0 0 2 4.82c.42.77.87 1.52 1.36 2.25a26.73 26.73 0 0 0 1.61 2.15c.57.69 1.19 1.38 1.85 2s1.35 1.29 2.05 1.87 1.42 1.12 2.14 1.62 1.48 1 2.24 1.37 1.54.79 2.33 1.13 1.61.62 2.43.88 1.67.46 2.52.63 1.73.3 2.61.39 1.8.14 2.71.15h.41a28 28 0 0 0 3.42-.21 26.05 26.05 0 0 0 4.37-.89 25.24 25.24 0 0 0 4.1-1.6 27.58 27.58 0 0 0 3.82-2.32 30.92 30.92 0 0 0 3.53-3c.66-.66 1.28-1.35 1.85-2a26.73 26.73 0 0 0 1.61-2.15c.49-.73.94-1.48 1.36-2.26a25.19 25.19 0 0 0 2-4.81 23.89 23.89 0 0 0 .62-2.56c.16-.87.29-1.76.37-2.66s.07-1.86.07-2.81 0-1.87-.13-2.77a25.79 25.79 0 0 0-.37-2.66c-.16-.86-.37-1.72-.61-2.56a25.26 25.26 0 0 0-2-4.81 24.28 24.28 0 0 0-1.31-2.25 24.93 24.93 0 0 0-1.58-2.13q-.87-1.05-1.86-2c-.66-.66-1.35-1.29-2-1.86s-1.42-1.12-2.15-1.62a24.6 24.6 0 0 0-2.33-1.39 24.9 24.9 0 0 0-4.84-2c-.84-.25-1.71-.45-2.58-.62s-1.78-.29-2.7-.37-1.85-.12-2.8-.12h-.22Zm.2 49a22.25 22.25 0 0 1-4.31-.42 19.94 19.94 0 0 1-4-1.21 20.68 20.68 0 0 1-3.7-2 24.06 24.06 0 0 1-3.4-2.81 23.29 23.29 0 0 1-2.76-3.35 20.63 20.63 0 0 1-3.17-7.71A23.67 23.67 0 0 1 9 579a23.12 23.12 0 0 1 .4-4.31 20.29 20.29 0 0 1 3.13-7.69 24 24 0 0 1 2.77-3.35 24.43 24.43 0 0 1 3.37-2.8 20.06 20.06 0 0 1 3.66-2 20.44 20.44 0 0 1 4-1.21 22.7 22.7 0 0 1 4.27-.4h.16a24.2 24.2 0 0 1 4.41.4 21.36 21.36 0 0 1 4 1.19 20.54 20.54 0 0 1 3.7 2A23.78 23.78 0 0 1 49 567a20.15 20.15 0 0 1 3.17 7.69 22.53 22.53 0 0 1 .39 4.34 21.1 21.1 0 0 1-6.31 15.42 23.3 23.3 0 0 1-2.66 2.31 22.2 22.2 0 0 1-2.86 1.8 20 20 0 0 1-3.06 1.28 20.61 20.61 0 0 1-3.26.78 40.91 40.91 0 0 0-.27-5.42 46.57 46.57 0 0 1-.41-4.87A17 17 0 0 1 34 587a13.36 13.36 0 0 1 1.88-4.47 37.31 37.31 0 0 0 1.8-3.43 15.83 15.83 0 0 0 1.09-4.43 47.47 47.47 0 0 0 .32-5.46c0-1.63-.08-3.26-.24-4.88a8.11 8.11 0 0 0-.58-2.69c-.06-.1-.12-.14-.18-.14a.52.52 0 0 0-.4.21 1.78 1.78 0 0 0-.32.57 9.52 9.52 0 0 0-.44 2.05c-.22 1.69-.32 4-.42 6.16s-.18 4.26-.39 5.85a9.33 9.33 0 0 1-.4 1.92 1.8 1.8 0 0 1-.28.53.48.48 0 0 1-.36.19.29.29 0 0 1-.23-.17 1.42 1.42 0 0 1-.16-.45 10.57 10.57 0 0 1-.15-1.59c0-1.33 0-3.13.11-5 .18-4.82.39-10.29-1-10.37a.49.49 0 0 0-.37.2 2 2 0 0 0-.29.56 9.84 9.84 0 0 0-.37 2c-.18 1.67-.22 3.92-.25 6.08v.76c-.06 4.17-.12 8.1-.95 8.1a.32.32 0 0 1-.24-.17 2 2 0 0 1-.18-.48 10.73 10.73 0 0 1-.26-1.7c-.12-1.41-.17-3.3-.22-5.31-.06-2.4-.12-4.87-.32-6.77a12.25 12.25 0 0 0-.42-2.32 2.24 2.24 0 0 0-.32-.66.54.54 0 0 0-.41-.23.47.47 0 0 0-.33.16c-.91.95-.78 6-.68 10.39.05 1.75.09 3.41.06 4.69 0 .53 0 1.07-.1 1.6a1.6 1.6 0 0 1-.25.81.23.23 0 0 1-.12.06.89.89 0 0 1-.59-.26 2.34 2.34 0 0 1-.47-.73 10 10 0 0 1-.67-2.53c-.34-2.06-.5-4.69-.65-7.24-.12-1.87-.22-3.63-.39-4.92a8.11 8.11 0 0 0-.32-1.54c-.13-.39-.28-.57-.46-.57s-.45.21-.63.62a13.59 13.59 0 0 0-.58 4.5c0 1 0 2.17.11 3.34s.21 2.46.39 3.69.41 2.57.68 3.77a34.47 34.47 0 0 0 1 3.58A20.68 20.68 0 0 0 26.2 584a10.35 10.35 0 0 0 1.63 2.36 12.15 12.15 0 0 1 2 2.66 9.44 9.44 0 0 1 .94 2.62 22.28 22.28 0 0 1 .12 5.76c-.06 1.11-.13 2.25-.14 3.51Z"
        transform="translate(-1.44 -549.77)"
      />
    </svg>
  </NuxtLink>
</template>

<script>
import gsap from "gsap";
import { ScrollTrigger } from "gsap/dist/ScrollTrigger";
export default {
  name: "Logo",
  methods: {
    logoBoveda: () => {
      gsap.registerPlugin(ScrollTrigger);
      const logo = gsap.utils.toArray(".nav .logo #boveda .fill-shape");
      const btns = gsap.utils.toArray(".nav__btns div");
      const logoRev = logo.reverse();
      const btnsRev = btns.reverse();

      function logoAnimation(direction) {
        const scrollingDown = direction === 1;
        const fillLogo = scrollingDown ? logo : logoRev;
        // const animBtns = scrollingDown ? btns : btnsRev;

        const tl = gsap.timeline();

        return tl.to(fillLogo, {
          autoAlpha: () => (scrollingDown ? "0" : "1"),
          y: () => (scrollingDown ? "-=20" : "0"),
        });
        // .to(animBtns, {
        // autoAlpha: () => (scrollingDown ? "0" : "1"),
        // y: () => (scrollingDown ? "-=20" : "0"),
        // stagger: 0.25,
        // });
      }

      ScrollTrigger.create({
        start: "top top",
        end: "100%",
        // markers: true,
        onEnter: ({ direction }) => {
          logoAnimation(direction);
        },
        onLeaveBack: ({ direction }) => {
          logoAnimation(direction);
        },
      });
    },
  }
};
</script>

<style lang="postcss" scoped>
a {
  @apply w-2/5
  sm:w-32
  md:w-28
  lg:w-28;

  & #favicon {
    @apply hidden;
  }

  & svg {
    @apply fill-slate800 dark:fill-gray-300;
  }
}

.nav .nav__container .logo a #boveda.white {
  @apply fill-white;
}

.nav.scrolled .nav__container .logo a #boveda {
  @apply hidden;
}

.nav.scrolled .nav__container .logo a {
  @apply md:w-6;
  & #favicon {
    @apply block
  }
}

#drawer .drawer .bottom .link-logo #boveda {
  @apply hidden;
}

#drawer .drawer .bottom .link-logo #favicon {
  @apply block
  w-10
  mx-auto
  mb-4;
}
</style>
